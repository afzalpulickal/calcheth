<div class="workspace">
    <div class="titlewrapper">
        <div class="subtitle">
            Component Configuration
        </div>
        <button mat-raised-button color="primary" (click)="addComponent()" class="btn-add">Add Component</button>
    </div>
    <div class="generalsetings">
        <div class="span-wrapper">
            <span>General Settings</span>
        </div>
        <div class="select-outer">
            <div class="select-wrapper">
                <span class="span">Year</span>
            </div>

            <div class="select-wrapper">
                <span class="span">Grade</span>
            </div>

            <div class="select-wrapper">
                <span class="span">Name</span>
            </div>

            <div class="select-wrapper">
                <span class="span">Subject</span>
            </div>

            <div class="select-wrapper">
                <span class="span">Term</span>
            </div>

        </div>
        <div class="select-outer">
            <div class="select-wrapper">
                <select [(ngModel)]="selectedYear" class="year">
                    <option *ngFor="let year of data.years" [ngValue]="year">{{year}}</option>
                </select>
            </div>

            <div class="select-wrapper">
                <select [(ngModel)]="selectedGrade" class="year">
                    <option *ngFor="let grade of data.grade" [ngValue]="grade">{{grade}}</option>
                </select>
            </div>

            <div class="select-wrapper">
                <select [(ngModel)]="selectedSection" class="year">
                    <option *ngFor="let section of data.section" [ngValue]="section">{{section}}</option>
                </select>
            </div>

            <div class="select-wrapper">
                <select [(ngModel)]="selectedSubject" class="year">
                    <option *ngFor="let subject of data.subject" [ngValue]="subject">{{subject}}</option>
                </select>
            </div>

            <div class="select-wrapper">
                <select [(ngModel)]="selectedTerm" class="year">
                    <option *ngFor="let term of data.term" [ngValue]="term">{{term}}</option>
                </select>
            </div>

        </div>

    </div>
    <div class="componentwrapper">
        <div class="span-wrapper">
            <span>Components</span>
        </div>
        <div class="component-list-wrapper" *ngIf="components.length != 0">
            <div class="row">
                <div class="col-4 component-wrapper" *ngFor="let component of components">
                    <div class="component-label">
                        <span class="label-span">{{component.label}}</span>
                        <div class="icon-equalizer settings" (click)="editComponent(component)"></div>
                    </div>
                    <div class="component-textbx">
                        <input class="textbx" type="text" placeholder="Enter Value">
                    </div>

                </div>
            </div>
        </div>

        <div class="no-components" *ngIf="components.length == 0">
            <div class="icon-calendar no-componentr-icon">
            </div>
            <div class="no-componentr-txt strong">
                No Components Yet
            </div>
            <div class="no-componentr-txt">
                Create and configure components for which teachers will be entering marks.
            </div>
        </div>

    </div>
</div>

<app-dialog [(visible)]="showDialog">
    <!-- <h1>Hello World</h1>
    <button (click)="showDialog = !showDialog" class="btn">Close</button> -->
    <div class="dialog-wrapper">
        <div class="dialog-header">
            <span class="header-span">Component Settings</span>
        </div>
        <div class="dialog-body">
            <div class="input-wrapper">
                <div class="header">
                    <span>Component Label</span>
                </div>
                <div class="body">
                    <input type="text" class="text" [(ngModel)]="selectedComponent.label" placeholder="Enter text" />
                </div>
            </div>
            <div class="input-wrapper">
                <div class="header">
                    <span>Component Description</span>
                </div>
                <div class="body">
                    <textarea class="textarea" [(ngModel)]="selectedComponent.description"></textarea>
                    <!-- <input type="" class="text" placeholder="Enter text" /> -->
                </div>
            </div>
            <div class="input-wrapper">
                <div class="header">
                    <span>Component Type</span>
                </div>
                <div class="body">
                    <select [(ngModel)]="selectedComponent.type">
                        <option *ngFor="let type of data.componentType" [ngValue]="type">{{type}}</option>
                    </select>
                    <!-- <input type="text" class="text" placeholder="Enter text" /> -->
                </div>
            </div>
            <div class="input-wrapper">
                <div class="header">
                    <span>Assesment Group</span>
                </div>
                <div class="body">
                    <select [(ngModel)]="selectedComponent.assesmentGroup">
                        <option *ngFor="let group of data.assesmentGroup" [ngValue]="group">{{group}}</option>
                    </select>
                </div>
            </div>
            <div class="input-wrapper">
                <div class="header">
                    <span>Data type</span>
                </div>
                <div class="body">
                    <select [(ngModel)]="selectedComponent.dataType">
                        <option *ngFor="let type of data.dataType" [ngValue]="type">{{type}}</option>
                    </select>
                </div>
            </div>
            <div class="input-wrapper">
                <div class="header">
                    <span>Maximum Score</span>
                </div>
                <div class="body">
                    <select [(ngModel)]="selectedComponent.maxScore">
                        <option *ngFor="let score of data.maximumScore" [ngValue]="score">{{score}}</option>
                    </select>
                </div>
            </div>
            <div class="input-wrapper">
                <div class="header">
                    <span>Passing Score</span>
                </div>
                <div class="body">
                    <select [(ngModel)]="selectedComponent.passScore">
                        <option *ngFor="let score of data.passingScore" [ngValue]="score">{{score}}</option>
                    </select>
                </div>
            </div>
            <div class="input-wrapper">
                <div class="header">
                    <span>Calculation Method</span>
                </div>
                <div class="body">
                    <select [(ngModel)]="selectedComponent.calcMetod">
                        <option *ngFor="let method of data.calculationMethod" [ngValue]="method">{{method}}</option>
                    </select>
                </div>
            </div>
            <div class="btn-wrapper">
                <div class="btn-cntr">
                    <button mat-raised-button color="warn" (click)="deleteComponent()">Delete Component</button>
                </div>
                <div class="btn-cntr">
                    <button mat-raised-button color="primary" (click)="saveComponent()">Save Component</button>
                </div>

            </div>
        </div>
    </div>
</app-dialog>
<app-dialog [(visible)]="showDeleteConfirm" [closable]="false">
    <div class="icon-cancel-circle icon-confirm">

    </div>
    <div class="confirm-msg">
        <span>Are you sure you want to delete the component</span>
    </div>
    <div class="btn-wrapper">
        <div class="btn-cntr">
            <button mat-raised-button color="warn" (click)="cancelDelete()">No,Cancel it</button>
        </div>
        <div class="btn-cntr">
            <button mat-raised-button color="primary" (click)="confirmDelete()">Delete Component</button>
        </div>
    </div>
</app-dialog>

<app-dialog [(visible)]="showEditConfirm" [closable]="false">
    <div class="icon-caution icon-confirm">

    </div>
    <div class="confirm-msg">
        <span>Are you sure you want to save the changes.</span>
    </div>
    <div class="btn-wrapper">
        <div class="btn-cntr">
            <button mat-raised-button color="warn" (click)="cancelEdit()">No,Cancel it</button>
        </div>
        <div class="btn-cntr">
            <button mat-raised-button color="primary" (click)="saveChanges()">Save Component</button>
        </div>
    </div>
</app-dialog>